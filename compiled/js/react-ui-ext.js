"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["react-ui-ext"],{

/***/ "../react-ui/ext/HubletoApp.tsx":
/*!**************************************!*\
  !*** ../react-ui/ext/HubletoApp.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoApp)\n/* harmony export */ });\nclass HubletoApp {\n  formHeaderButtons = [];\n  customFormTabs = [];\n  constructor() {}\n  init() {\n    //\n  }\n  addFormHeaderButton(title, onClick) {\n    this.formHeaderButtons.push({\n      title: title,\n      onClick: onClick\n    });\n  }\n  getFormHeaderButtons() {\n    return this.formHeaderButtons;\n  }\n  addCustomFormTab(tab) {\n    tab.isCustom = true;\n    this.customFormTabs.push(tab);\n  }\n  getCustomFormTabs() {\n    return this.customFormTabs;\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoApp.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoChart.tsx":
/*!****************************************!*\
  !*** ../react-ui/ext/HubletoChart.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoChart)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-chartjs-2 */ \"../react-ui/node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var chartjs_adapter_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chartjs-adapter-date-fns */ \"../react-ui/node_modules/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.esm.js\");\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! chart.js */ \"../react-ui/node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @hubleto/react-ui/core/Request */ \"../react-ui/core/Request.tsx\");\n/* harmony import */ var primereact_progressbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/progressbar */ \"../react-ui/node_modules/primereact/progressbar/progressbar.esm.js\");\n\n\n\n\n\n\nchart_js__WEBPACK_IMPORTED_MODULE_3__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_3__.ArcElement, chart_js__WEBPACK_IMPORTED_MODULE_3__.Tooltip, chart_js__WEBPACK_IMPORTED_MODULE_3__.Legend, chart_js__WEBPACK_IMPORTED_MODULE_3__.Filler, chart_js__WEBPACK_IMPORTED_MODULE_3__.BarController, chart_js__WEBPACK_IMPORTED_MODULE_3__.BarElement, chart_js__WEBPACK_IMPORTED_MODULE_3__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_3__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_3__.TimeScale, chart_js__WEBPACK_IMPORTED_MODULE_3__.PointElement, chart_js__WEBPACK_IMPORTED_MODULE_3__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_3__.LineController);\nclass HubletoChart extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data,\n      legend: this.props.legend,\n      options: this.props.options,\n      initialized: false\n    };\n  }\n  componentDidMount() {\n    if (this.props.async) this.loadChart();\n  }\n  loadChart() {\n    _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(this.props.endpoint, this.props.endpointParams ?? {}, chart => {\n      try {\n        this.setState({\n          data: chart.data,\n          legend: chart.legend,\n          options: chart.options\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    });\n  }\n  render() {\n    if (!this.state.data) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(primereact_progressbar__WEBPACK_IMPORTED_MODULE_5__.ProgressBar, {\n        mode: \"indeterminate\",\n        style: {\n          height: '8px'\n        }\n      });\n    }\n    const data = this.state.data;\n    let labels = [];\n    let dataset = {};\n    labels = this.state.data.labels ?? [];\n    dataset.data = this.state.data.values ?? [];\n    if (data.colors) dataset.backgroundColor = data.colors;\n    switch (this.props.type) {\n      case \"scatter\":\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__.Scatter, {\n          options: this.state.options,\n          data: this.state.data\n        });\n        // removed by dead control flow\n\n      case \"line\":\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__.Line, {\n          options: this.state.options,\n          data: this.state.data\n        });\n        // removed by dead control flow\n\n      case \"bar\":\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__.Bar, {\n          width: 0,\n          height: 0,\n          options: {\n            scales: {\n              x: {\n                ticks: {\n                  display: false\n                }\n              },\n              y: {\n                beginAtZero: true\n              }\n            }\n          },\n          data: {\n            labels: labels,\n            datasets: [dataset]\n          }\n        });\n      case \"doughnut\":\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"h-full m-auto relative\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__.Doughnut, {\n          options: {\n            responsive: true,\n            plugins: {\n              legend: this.props.legend ? this.props.legend : {\n                display: false\n              }\n            }\n          },\n          data: {\n            labels: labels,\n            datasets: [dataset]\n          }\n        }));\n      case \"pie\":\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"h-full w-full m-auto relative\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__.Pie, {\n          options: {\n            responsive: true,\n            aspectRatio: 2,\n            plugins: {\n              legend: this.props.legend ? this.props.legend : {\n                display: false\n              }\n            }\n          },\n          data: {\n            labels: labels,\n            datasets: [dataset]\n          }\n        }));\n      case \"goals\":\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_chartjs_2__WEBPACK_IMPORTED_MODULE_1__.Bar, {\n          data: {\n            datasets: [{\n              type: 'bar',\n              label: 'Goals',\n              backgroundColor: \"#ffb12b\",\n              borderColor: \"#a87316\",\n              data: this.props.data ? [...this.props.data.goals] : []\n            }, {\n              type: 'bar',\n              label: 'Won Deals',\n              backgroundColor: \"#66c24f\",\n              data: this.props.data ? [...this.props.data.won] : [],\n              stack: \"stack\"\n            }, {\n              type: 'bar',\n              label: 'Pending Deals',\n              backgroundColor: \"#cfcecc\",\n              data: this.props.data ? [...this.props.data.pending] : [],\n              stack: \"stack\"\n            }],\n            labels: this.props.data ? [...this.props.data.labels] : []\n          }\n        });\n      default:\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n    }\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoChart.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoForm.tsx":
/*!***************************************!*\
  !*** ../react-ui/ext/HubletoForm.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoForm)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hubleto/react-ui/core/Form */ \"../react-ui/core/Form.tsx\");\n/* harmony import */ var _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hubleto/react-ui/core/Request */ \"../react-ui/core/Request.tsx\");\n/* harmony import */ var _hubleto_apps_Workflow_Components_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hubleto/apps/Workflow/Components/WorkflowSelector */ \"../erp/apps/Workflow/Components/WorkflowSelector.tsx\");\n\n\n\n//@ts-ignore\n\nclass HubletoForm extends _hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  static defaultProps = {\n    ..._hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].defaultProps\n  };\n  constructor(props) {\n    super(props);\n    this.state = this.getStateFromProps(props);\n  }\n  getParentApp() {\n    if (typeof this.parentApp == 'string') return globalThis.main.getApp(this.parentApp);else return this.parentApp;\n  }\n  getStateFromProps(props) {\n    return {\n      ...super.getStateFromProps(props),\n      isInlineEditing: true,\n      icon: this.props.icon\n    };\n  }\n  onAfterSaveRecord(saveResponse, customSaveOptions) {\n    super.onAfterSaveRecord(saveResponse, customSaveOptions);\n    if (this.props.junctionSaveEndpoint && this.props.junctionModel && this.props.junctionSourceColumn && this.props.junctionDestinationColumn && this.props.junctionSourceRecordId) {\n      _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(this.props.junctionSaveEndpoint, {\n        junctionModel: this.props.junctionModel,\n        junctionSourceColumn: this.props.junctionSourceColumn,\n        junctionDestinationColumn: this.props.junctionDestinationColumn,\n        junctionSourceRecordId: this.props.junctionSourceRecordId,\n        junctionDestinationRecordId: saveResponse.savedRecord['id']\n      }, {}, data => {/* */});\n    }\n  }\n  getCustomTabs() {\n    const customTabs = this.getParentApp()?.getCustomFormTabs() ?? [];\n    return customTabs;\n  }\n  getHeaderButtons() {\n    return this.getParentApp()?.getFormHeaderButtons() ?? [];\n  }\n  renderHeaderLeft() {\n    const headerButtons = this.getHeaderButtons();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex gap-2 items-center\"\n    }, this.state.icon ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: this.state.icon + ' text-3xl text-primary/20 m-2'\n    })) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex flex-col gap-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex justify-center\"\n    }, super.renderHeaderLeft()), headerButtons && headerButtons.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex gap-2\"\n    }, headerButtons.map((button, key) => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n        className: \"btn btn-small btn-primary-outline\",\n        onClick: () => {\n          button.onClick(this);\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n        className: \"text\"\n      }, button.title));\n    })) : null)));\n  }\n  renderCustomInputs() {\n    let customInputs = [];\n    if (this.state?.description?.inputs) {\n      Object.keys(this.state.description.inputs).map(inputName => {\n        const inputDesc = this.state.description.inputs[inputName];\n        if (inputDesc.isCustom) {\n          customInputs.push(this.inputWrapper(inputName));\n        }\n      });\n    }\n    return customInputs;\n  }\n  renderFooter() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"w-full flex justify-between\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"flex gap-2 items-center dark:text-white\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"#\", this.state.record.id), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, this.renderPrevRecordButton()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, this.renderNextRecordButton())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, this.getRecordFormUrl() ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n      className: \"btn btn-transparent btn-small\",\n      title: \"Open in new tab\",\n      href: globalThis.main.config.projectUrl + '/' + this.getRecordFormUrl(),\n      target: \"_blank\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"fas fa-link\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"text\"\n    }, globalThis.main.config.projectUrl + '/' + this.getRecordFormUrl())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-transparent btn-small\",\n      title: \"Copy link to clipboard\",\n      onClick: () => {\n        navigator.clipboard.writeText(globalThis.main.config.projectUrl + '/' + this.getRecordFormUrl());\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"fas fa-copy\"\n    })))) : null), this.props.junctionModel ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"badge flex gap-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"fas fa-link\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, this.props.junctionTitle), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"#\", this.props.junctionSourceRecordId, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"br\", null))) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, this.renderDeleteButton())));\n  }\n  renderTopMenu() {\n    const topMenu = super.renderTopMenu();\n    const dynamicMenu = globalThis.main.injectDynamicContent(this.constructor.name + ':TopMenu', {\n      form: this\n    });\n    let topMenuWithDynamicMenu = null;\n    if (topMenu != null || dynamicMenu != null) {\n      topMenuWithDynamicMenu = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, topMenu, \" \", dynamicMenu);\n    }\n    if (this.props.renderWorkflowUi) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"flex flex-col\"\n      }, topMenuWithDynamicMenu, this.state.id <= 0 ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"flex p-2 bg-gradient-to-b from-gray-50 to-white\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"flex-2\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hubleto_apps_Workflow_Components_WorkflowSelector__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        parentForm: this\n      })), this.state.description && this.state.description.inputs && this.state.description.inputs.is_closed ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"text-right\"\n      }, this.inputWrapper('is_closed', {\n        wrapperCssClass: 'flex gap-2'\n      })) : null));\n    } else {\n      return topMenuWithDynamicMenu;\n    }\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoForm.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoSearch.tsx":
/*!*****************************************!*\
  !*** ../react-ui/ext/HubletoSearch.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoSearch)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hubleto/react-ui/core/Request */ \"../react-ui/core/Request.tsx\");\n/* harmony import */ var react_select_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-select/async */ \"../react-ui/node_modules/react-select/async/dist/react-select-async.esm.js\");\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-select */ \"../react-ui/node_modules/react-select/dist/index-641ee5b8.esm.js\");\n\n\n\n\nconst Option = (innerProps, isDisabled) => {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_select__WEBPACK_IMPORTED_MODULE_3__.c.Option, innerProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, innerProps.data.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"text-xs\"\n  }, innerProps.data.description), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"text-xs text-gray-300 dark:text-primary\"\n  }, innerProps.data.APP_NAMESPACE));\n};\nclass HubletoSearch extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.searchRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n    globalThis.main.reactElements['global-fulltext-search'] = this;\n    this.state = {\n      // query: '',\n      results: null\n    };\n  }\n  loadOptions(inputValue = null, callback = null) {\n    _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(this.props.endpoint, {\n      ...this.props.endpointParams,\n      query: inputValue\n    }, {}, results => {\n      this.setState({\n        results: results\n      });\n      if (callback) callback(Object.values(results ?? {}));\n    });\n  }\n  onChange(item) {\n    // let query = this.state.query;\n    if (item) {\n      if (item.url) {\n        location.href = globalThis.main.config.projectUrl + '/' + item.url;\n      }\n      // if (item.autocomplete) {\n      //   console.log('setva', {id: 0, label: item.autocomplete});\n      //   this.searchRef.current.setValue({id: 0, label: item.autocomplete});\n      //   this.searchRef.current\n      // }\n    }\n    // this.setState({query: query});\n  }\n  render() {\n    // console.log('q', this.state.query);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_select_async__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    // value={{\n    //   id: 0,\n    //   label: this.state.query\n    // }}\n    , {\n      ref: this.searchRef,\n      isClearable: true\n      // inputValue={this.state.query}\n      // defaultInputValue=\"Type Ctrl+K to start searching...\"\n      ,\n      loadOptions: (inputValue, callback) => this.loadOptions(inputValue, callback),\n      getOptionLabel: option => {\n        return option.label;\n      },\n      getOptionValue: option => {\n        return option.id;\n      }\n      // onKeyDown={(e: any) => { console.log(this.searchRef.current.getValue()); }}\n      ,\n      onChange: item => {\n        this.onChange(item);\n      },\n      components: {\n        Option\n      },\n      placeholder: \"[Ctrl+K] Search in Hubleto...\",\n      className: \"hubleto-lookup\",\n      styles: {\n        menuPortal: base => ({\n          ...base,\n          zIndex: 9999\n        })\n      },\n      menuPosition: \"fixed\",\n      menuPortalTarget: document.body\n    }));\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoSearch.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoTable.tsx":
/*!****************************************!*\
  !*** ../react-ui/ext/HubletoTable.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoTable)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hubleto_react_ui_core_Table__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hubleto/react-ui/core/Table */ \"../react-ui/core/Table.tsx\");\n/* harmony import */ var _HubletoForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HubletoForm */ \"../react-ui/ext/HubletoForm.tsx\");\n/* harmony import */ var _HubletoTableExportCsvForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HubletoTableExportCsvForm */ \"../react-ui/ext/HubletoTableExportCsvForm.tsx\");\n/* harmony import */ var _HubletoTableImportCsvForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HubletoTableImportCsvForm */ \"../react-ui/ext/HubletoTableImportCsvForm.tsx\");\n/* harmony import */ var _hubleto_react_ui_core_Helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @hubleto/react-ui/core/Helper */ \"../react-ui/core/Helper.tsx\");\n/* harmony import */ var _hubleto_react_ui_core_ModalForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @hubleto/react-ui/core/ModalForm */ \"../react-ui/core/ModalForm.tsx\");\n/* harmony import */ var _HubletoTableColumnsCustomize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HubletoTableColumnsCustomize */ \"../react-ui/ext/HubletoTableColumnsCustomize.tsx\");\n\n\n\n\n\n\n\n\n\nclass HubletoTable extends _hubleto_react_ui_core_Table__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  static defaultProps = {\n    ..._hubleto_react_ui_core_Table__WEBPACK_IMPORTED_MODULE_1__[\"default\"].defaultProps,\n    formUseModalSimple: true\n  };\n  constructor(props) {\n    super(props);\n    this.refExportCsvModal = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n    this.refImportCsvModal = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n    this.refColumnConfigModal = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n  }\n  getStateFromProps(props) {\n    return {\n      ...super.getStateFromProps(props),\n      showExportCsvScreen: false,\n      showImportCsvScreen: false,\n      showColumnConfigScreen: false,\n      collapsedNodeIds: []\n    };\n  }\n  getEndpointParams() {\n    return {\n      ...super.getEndpointParams(),\n      junctionTitle: this.props.junctionTitle,\n      junctionModel: this.props.junctionModel,\n      junctionSourceColumn: this.props.junctionSourceColumn,\n      junctionDestinationColumn: this.props.junctionDestinationColumn,\n      junctionSourceRecordId: this.props.junctionSourceRecordId,\n      junctionSaveEndpoint: this.props.junctionSaveEndpoint ?? 'api/record/save-junction'\n    };\n  }\n  getFormProps() {\n    return {\n      ...super.getFormProps(),\n      junctionTitle: this.props.junctionTitle,\n      junctionModel: this.props.junctionModel,\n      junctionSourceColumn: this.props.junctionSourceColumn,\n      junctionDestinationColumn: this.props.junctionDestinationColumn,\n      junctionSourceRecordId: this.props.junctionSourceRecordId,\n      junctionSaveEndpoint: this.props.junctionSaveEndpoint ?? 'api/record/save-junction'\n    };\n  }\n  getFormModalProps() {\n    if ((0,_hubleto_react_ui_core_Helper__WEBPACK_IMPORTED_MODULE_5__.getUrlParam)('recordId') > 0) {\n      return {\n        ...super.getFormModalProps(),\n        type: 'right'\n      };\n    } else return {\n      ...super.getFormModalProps()\n    };\n  }\n  renderSidebarFilter() {\n    if (this.state?.description?.ui?.filters && !this.state.sidebarFilterHidden) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"flex flex-col gap-2 text-nowrap\"\n      }, Object.keys(this.state.description.ui.filters).map(filterName => {\n        const filter = this.state.description.ui.filters[filterName];\n        const filterValue = this.state.filters[filterName] ?? filter.default ?? null;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          key: filterName\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"bg-primary/10 p-1 text-sm dark:text-white dark:bg-slate-800\"\n        }, filter.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"list\"\n        }, Object.keys(filter.options).map(key => {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n            key: key,\n            className: \"max-w-60 btn btn-small btn-list-item \" + (filterValue == key ? \"btn-primary\" : \"btn-transparent\"),\n            style: {\n              borderLeft: filter.colors && filter.colors[key] ? '0.5em solid ' + filter.colors[key] : null\n            },\n            onClick: () => {\n              let filters = this.state.filters ?? {};\n              if (filter.type == 'multipleSelectButtons') {\n                if (filterValue) {\n                  if (filterValue.includes(key)) {\n                    filters[filterName] = [];\n                    for (let i in filterValue) {\n                      if (filterValue[i] != key) filters[filterName].push(filterValue[i]);\n                    }\n                  } else {\n                    filters[filterName] = filterValue;\n                    filters[filterName].push(key);\n                  }\n                } else {\n                  filters[filterName] = [key];\n                }\n              } else {\n                filters[filterName] = key;\n              }\n              if (!this.props.parentForm) {\n                (0,_hubleto_react_ui_core_Helper__WEBPACK_IMPORTED_MODULE_5__.setUrlParam)('filters', filters);\n              }\n              this.setState({\n                recordId: 0,\n                filters: filters\n              }, () => this.loadData());\n            }\n          }, filter.type == 'multipleSelectButtons' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"icon\"\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n            type: \"checkbox\",\n            checked: filterValue && filterValue.includes(key)\n          })) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n            className: \"text\"\n          }, filter.options[key]));\n        })));\n      }));\n    } else {\n      return null;\n    }\n  }\n  renderForm() {\n    let formProps = this.getFormProps();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_HubletoForm__WEBPACK_IMPORTED_MODULE_2__[\"default\"], formProps);\n  }\n  renderTree(nodes, idParent = 0, level = 0) {\n    if (nodes.length && nodes.length > 0) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"list\"\n      }, nodes.map((node, index) => {\n        const hasChildren = node.children && node.children.length > 0;\n        const isExpanded = !this.state.collapsedNodeIds.includes(node.id);\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"list-item\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"flex gap-2 justify-between\"\n        }, hasChildren ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n          className: \"btn btn-transparent btn-list-item w-full\",\n          onClick: () => {\n            let collapsedNodeIds = this.state.collapsedNodeIds;\n            if (collapsedNodeIds.includes(node.id)) {\n              for (let i in collapsedNodeIds) {\n                if (collapsedNodeIds[i] == node.id) {\n                  delete collapsedNodeIds[i];\n                }\n              }\n            } else {\n              collapsedNodeIds.push(node.id);\n            }\n            this.setState({\n              collapsedNodeIds: collapsedNodeIds\n            });\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n          className: \"icon\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n          className: 'fas fa-' + (isExpanded ? 'chevron-up' : 'chevron-down')\n        })))) : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"grow\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n          className: \"btn btn-transparent btn-list-item w-full\",\n          onClick: () => {\n            this.openForm(node.id);\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n          className: \"text\"\n        }, node.title)))), hasChildren && isExpanded ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n          className: \"m-4\"\n        }, this.renderTree(node.children, node.id, level + 1)) : null);\n      }));\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n    }\n  }\n  renderDataView() {\n    switch (this.state.description?.ui?.dataView) {\n      case 'tree':\n        return this.renderTree(this.state?.data?.tree);\n        // removed by dead control flow\n\n      default:\n        return super.renderDataView();\n        // removed by dead control flow\n\n    }\n  }\n  renderContent() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, super.renderContent(), this.state.showExportCsvScreen ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hubleto_react_ui_core_ModalForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      ref: this.refExportCsvModal,\n      uid: this.props.uid + '_export_csv_modal',\n      isOpen: true,\n      type: \"centered large\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_HubletoTableExportCsvForm__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      modal: this.refExportCsvModal,\n      model: this.props.model,\n      parentTable: this,\n      onClose: () => {\n        this.setState({\n          showExportCsvScreen: false\n        });\n      }\n    })) : null, this.state.showImportCsvScreen ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hubleto_react_ui_core_ModalForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      ref: this.refImportCsvModal,\n      uid: this.props.uid + '_import_csv_modal',\n      isOpen: true,\n      type: \"centered large\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_HubletoTableImportCsvForm__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      modal: this.refImportCsvModal,\n      model: this.props.model,\n      parentTable: this,\n      onClose: () => {\n        this.setState({\n          showImportCsvScreen: false\n        });\n      }\n    })) : null, this.state.showColumnConfigScreen ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hubleto_react_ui_core_ModalForm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      ref: this.refColumnConfigModal,\n      uid: this.props.uid + '_columns_config_modal',\n      isOpen: true,\n      type: \"right\",\n      title: \"Customize Columns\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_HubletoTableColumnsCustomize__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      parentTable: this,\n      tableTag: this.props.tag,\n      tableModel: this.model,\n      onClose: () => this.setState({\n        showColumnConfigScreen: false\n      })\n    })) : null);\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoTable.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoTableColumnsCustomize.tsx":
/*!********************************************************!*\
  !*** ../react-ui/ext/HubletoTableColumnsCustomize.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoTableColumnsCustomize)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hubleto/react-ui/core/Request */ \"../react-ui/core/Request.tsx\");\n\n\nclass HubletoTableColumnsCustomize extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      record: null,\n      draggedKey: null\n    };\n  }\n  componentDidMount() {\n    this.loadRecord();\n  }\n  loadRecord() {\n    _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(\"api/get-table-columns-customize\", {\n      model: this.props.tableModel,\n      tag: this.props.tableTag\n    }, res => {\n      if (res.status == \"success\") {\n        this.setState({\n          record: res.data\n        });\n      }\n    });\n  }\n  saveRecord() {\n    _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_1__[\"default\"].post(\"api/save-table-columns-customize\", {\n      record: this.state.record,\n      model: this.props.tableModel,\n      tag: this.props.tableTag\n    }, {}, data => {\n      if (data.status == \"success\") {\n        this.props.onClose();\n        this.props.parentTable.loadTableDescription();\n      }\n    });\n  }\n  onDragStart = (e, key) => {\n    this.setState({\n      draggedKey: key\n    });\n    e.dataTransfer.effectAllowed = \"move\";\n  };\n  onDragOver = (e, key) => {\n    e.preventDefault();\n    const {\n      draggedKey,\n      record\n    } = this.state;\n    if (draggedKey === key) return;\n    let entries = Object.entries(record);\n    const draggedIdx = entries.findIndex(([k]) => k === draggedKey);\n    const targetIdx = entries.findIndex(([k]) => k === key);\n    const [removed] = entries.splice(draggedIdx, 1);\n    entries.splice(targetIdx, 0, removed);\n    const newItems = Object.fromEntries(entries);\n    this.setState({\n      record: newItems\n    });\n  };\n  onDrop = e => {\n    e.preventDefault();\n    this.setState({\n      draggedKey: null\n    });\n  };\n  renderTitle() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, \"Customize Columns\");\n  }\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"modal-header\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"modal-header-left\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-edit\",\n      onClick: () => this.saveRecord()\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"fas fa-save\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"text\"\n    }, \"Save\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"modal-header-title\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"Customize Columns\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"modal-header-right\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: \"btn btn-close\",\n      type: \"button\",\n      \"aria-label\": \"Close\",\n      onClick: this.props.onClose\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"fas fa-xmark\"\n    }))))), this.state.record ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"p-2 flex flex-col gap-2\"\n    }, Object.entries(this.state.record).map(([key, {\n      title,\n      is_hidden\n    }]) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"w-[100%]\",\n      key: key,\n      draggable: true,\n      onDragStart: e => this.onDragStart(e, key),\n      onDragOver: e => this.onDragOver(e, key),\n      onDrop: this.onDrop\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n      className: `btn btn-transparent w-[100%]`,\n      onClick: () => this.setState(prevState => ({\n        record: {\n          ...prevState.record,\n          [key]: {\n            ...prevState.record[key],\n            is_hidden: !prevState.record[key].is_hidden\n          }\n        }\n      }))\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: `text-gray-500 fa fa-ellipsis-vertical`\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n      type: \"checkbox\",\n      checked: !is_hidden\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"text\"\n    }, title)))))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null));\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoTableColumnsCustomize.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoTableExportCsvForm.tsx":
/*!*****************************************************!*\
  !*** ../react-ui/ext/HubletoTableExportCsvForm.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoTableExportCsvForm)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hubleto/react-ui/core/Form */ \"../react-ui/core/Form.tsx\");\n\n\nclass HubletoTableExportCsvForm extends _hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  static defaultProps = {\n    ..._hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].defaultProps\n  };\n  constructor(props) {\n    super(props);\n    this.state = this.getStateFromProps(props);\n  }\n  getStateFromProps(props) {\n    return {\n      separator: ',',\n      ...super.getStateFromProps(props)\n    };\n  }\n  renderTitle() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"Export to CSV\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"small\", null, this.props.model));\n  }\n  renderWarningsOrErrors() {\n    return null;\n  }\n  renderFooter() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n  }\n  renderHeaderLeft() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n  }\n  renderHeaderRight() {\n    return this.renderCloseButton();\n  }\n  getExportParams() {\n    return {\n      separator: this.state.separator,\n      ...this.props.parentTable.getEndpointParams()\n    };\n  }\n  renderContent() {\n    const qs = __webpack_require__(/*! qs */ \"./node_modules/qs/lib/index.js\");\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"p-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"alert alert-info\"\n    }, \"CSV file with following columns and \", this.props.parentTable.state?.data?.total, \" items will be generated\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", {\n      className: \"table-default dense mt-2\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, \"Column\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, \"Type\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, Object.keys(this.props.parentTable.state.description.columns).map(columnName => {\n      const column = this.props.parentTable.state.description.columns[columnName];\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, columnName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, column.type));\n    }))), this.inputWrapper('separator', {\n      value: this.state.separator,\n      description: {\n        title: this.translate(\"Separator\")\n      },\n      isInlineEditing: true,\n      onChange: (input, value) => {\n        this.setState({\n          separator: value\n        });\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n      className: \"btn btn-large mt-2\",\n      href: globalThis.main.config.projectUrl + \"/api/table-export-csv?\" + qs.stringify(this.getExportParams(), {\n        arrayFormat: 'brackets'\n      }),\n      target: \"_blank\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"fas fa-download\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n      className: \"text\"\n    }, \"Export to CSV\")));\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoTableExportCsvForm.tsx?\n}");

/***/ }),

/***/ "../react-ui/ext/HubletoTableImportCsvForm.tsx":
/*!*****************************************************!*\
  !*** ../react-ui/ext/HubletoTableImportCsvForm.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HubletoTableImportCsvForm)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../react-ui/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @hubleto/react-ui/core/Form */ \"../react-ui/core/Form.tsx\");\n/* harmony import */ var _hubleto_react_ui_core_Inputs_File__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hubleto/react-ui/core/Inputs/File */ \"../react-ui/core/Inputs/File.tsx\");\n/* harmony import */ var _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @hubleto/react-ui/core/Request */ \"../react-ui/core/Request.tsx\");\n\n\n\n\nclass HubletoTableImportCsvForm extends _hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  static defaultProps = {\n    ..._hubleto_react_ui_core_Form__WEBPACK_IMPORTED_MODULE_1__[\"default\"].defaultProps\n  };\n  constructor(props) {\n    super(props);\n    this.refCsvFileInput = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\n    this.state = {\n      ...this.getStateFromProps(props),\n      csvData: '',\n      testResult: null,\n      importResult: null\n    };\n  }\n  renderTitle() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"Import to CSV\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"small\", null, this.props.model));\n  }\n  renderWarningsOrErrors() {\n    return null;\n  }\n  renderFooter() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n  }\n  renderHeaderLeft() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n  }\n  renderHeaderRight() {\n    return this.renderCloseButton();\n  }\n  renderContent() {\n    const csvImportEndpointParams = this.props.parentTable.getCsvImportEndpointParams();\n    if (this.props.parentTable.props.parentForm && !csvImportEndpointParams) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"alert alert-danger\"\n      }, \"This table does not support CSV import in nested forms.\");\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"p-2\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"alert alert-info\"\n      }, \"How to import:\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", {\n        className: \"ml-2\"\n      }, \"\\u2022 Prepare your CSV file. Read \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", {\n        href: \"\",\n        target: \"_blank\",\n        className: \"btn btn-transparent\"\n      }, \"this guide\"), \" to learn how the CSV file shall be structured.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", {\n        className: \"ml-2\"\n      }, \"\\u2022 Upload the CSV file.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", {\n        className: \"ml-2\"\n      }, \"\\u2022 Start the import by clicking on \\\"Import from CSV\\\" button.\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        style: {\n          zoom: 2\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_hubleto_react_ui_core_Inputs_File__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        uid: this.props.parentTable.uid + '_import_csv_file',\n        ref: this.refCsvFileInput,\n        onChange: (input, value) => {\n          this.setState({\n            csvData: value.fileData ?? ''\n          });\n          _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"api/table-import-csv\", {\n            ...csvImportEndpointParams,\n            testImport: true,\n            csvData: value.fileData ?? ''\n          }, {}, result => {\n            this.setState({\n              testResult: result\n            });\n          });\n        },\n        uploadButtonText: \"Select CSV file\",\n        acceptType: ['csv']\n      })), this.state.testResult && this.state.testResult.foundRecords ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"mt-2\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"Found following records\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"table\", {\n        className: \"table-default dense\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, Object.keys(this.state.testResult.foundRecords[0]).map(colName => {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, colName ?? '');\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, this.state.testResult.foundRecords.map((record, index) => {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, Object.keys(record).map(colName => {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, record[colName] ?? '');\n        }));\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"CSV file size: \", Math.round(this.state.csvData.length * 100 / 1024) / 100, \" kB\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"mt-2\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n        className: \"btn btn-large mt-2\",\n        onClick: () => {\n          _hubleto_react_ui_core_Request__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"api/table-import-csv\", {\n            ...csvImportEndpointParams,\n            testImport: false,\n            csvData: this.state.csvData\n          }, {}, result => {\n            this.setState({\n              testResult: null,\n              importResult: result\n            });\n            this.props.parentTable.reload();\n          });\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n        className: \"icon\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n        className: \"fas fa-download\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n        className: \"text\"\n      }, \"Run the import !\"))))) : null, this.state.importResult ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"mt-2 alert alert-success\"\n      }, \"Imported \", this.state.importResult.importedRecords, \" records.\") : null);\n    }\n  }\n}\n\n//# sourceURL=webpack:///../react-ui/ext/HubletoTableImportCsvForm.tsx?\n}");

/***/ })

}]);